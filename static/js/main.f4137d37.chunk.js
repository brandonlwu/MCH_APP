(this.webpackJsonpach_app_fu_6m=this.webpackJsonpach_app_fu_6m||[]).push([[0],Array(28).concat([function(e){e.exports=JSON.parse('{"taskVersion":"1.0.0","taskName":"auditory_6m_fu","debug":false,"awsLambda":{"saveTaskData":{"host":"de8cnjde61.execute-api.us-east-2.amazonaws.com","path":"/default/saveTaskData"},"fetchLink":{"host":"3pnzb6n9vf.execute-api.us-east-2.amazonaws.com","path":"/default/fetchLink"}}}')},,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){e.exports=n.p+"static/media/psych_logo.6956dbda.jpg"},,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){},,,function(e,t,n){e.exports=n.p+"static/media/Gtone.5dfde805.wav"},function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return l}));var a=n(432),r=n(150),i=n(28);function o(t,n){return new Promise((function(o,l){var s=r.stringify({encrypted_metadata:t,data:n}),c={hostname:i.awsLambda.saveTaskData.host,port:443,path:i.awsLambda.saveTaskData.path,method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded","Content-Length":e.byteLength(s)}},u=a.request(c,(function(e){e.setEncoding("utf8"),e.on("data",(function(){})),e.on("end",o)}));u.on("error",(function(e){i.debug&&(console.log("ERROR:"),console.log(e)),l(e)})),u.write(s),u.end()}))}function l(t){return new Promise((function(n,o){var l=r.stringify({encrypted_metadata:t}),s={hostname:i.awsLambda.fetchLink.host,port:443,path:i.awsLambda.fetchLink.path,method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded","Content-Length":e.byteLength(l)}},c=a.request(s,(function(e){e.setEncoding("utf8");var t="";e.on("data",(function(e){t+=e})),e.on("end",(function(){return n(t)}))}));c.on("error",(function(e){i.debug&&(console.log("ERROR:"),console.log(e)),o(e)})),c.write(l),c.end()}))}}).call(this,n(7).Buffer)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},,,,,,,function(e,t,n){e.exports=n.p+"static/media/rating_keydown_1.d9fbf22f.png"},function(e,t,n){e.exports=n.p+"static/media/rating_keydown_2.6a659dd4.png"},function(e,t,n){e.exports=n.p+"static/media/rating_keydown_3.d955b91a.png"},function(e,t,n){e.exports=n.p+"static/media/rating_keydown_4.c8b7c686.png"},function(e,t,n){e.exports=n.p+"static/media/rating_keydown_5.34958048.png"},function(e,t,n){e.exports=n.p+"static/media/surprisal_keydown_1.825ce77e.png"},function(e,t,n){e.exports=n.p+"static/media/surprisal_keydown_2.9b785fe2.png"},function(e,t,n){e.exports=n.p+"static/media/surprisal_keydown_3.31e72759.png"},function(e,t,n){e.exports=n.p+"static/media/surprisal_keydown_4.f39127fa.png"},function(e,t,n){e.exports=n.p+"static/media/surprisal_keydown_5.2e871950.png"},function(e,t,n){e.exports=n.p+"static/media/Hear1.f8e860ca.wav"},function(e,t,n){e.exports=n.p+"static/media/Hear2.4eef5bbd.wav"},function(e,t,n){e.exports=n.p+"static/media/Hear3.e05a7c70.wav"},function(e,t,n){e.exports=n.p+"static/media/Hear4.b7094f19.wav"},function(e,t,n){e.exports=n.p+"static/media/Hear5.0889b25e.wav"},function(e,t,n){e.exports=n.p+"static/media/Hear6.d790382f.wav"},function(e,t,n){e.exports=n.p+"static/media/Hear7.b7a219d3.wav"},function(e,t,n){e.exports=n.p+"static/media/Hear8.b3177f10.wav"},function(e,t,n){e.exports=n.p+"static/media/Hear9.767d5043.wav"},function(e,t,n){e.exports=n.p+"static/media/Hear10.ee0e4114.wav"},function(e,t,n){e.exports=n.p+"static/media/Confidence1.d4cb8c69.wav"},function(e,t,n){e.exports=n.p+"static/media/Confidence2.5c627c36.wav"},function(e,t,n){e.exports=n.p+"static/media/Confidence3.2b88961c.wav"},function(e,t,n){e.exports=n.p+"static/media/Confidence4.b7b1bdd6.wav"},function(e,t,n){e.exports=n.p+"static/media/Confidence5.e5cc2079.wav"},function(e,t,n){e.exports=n.p+"static/media/Confidence6.eb7e0fdd.wav"},function(e,t,n){e.exports=n.p+"static/media/Confidence7.3fe2aca1.wav"},function(e,t,n){e.exports=n.p+"static/media/Confidence8.36f9a2c5.wav"},function(e,t,n){e.exports=n.p+"static/media/Confidence9.dfbedeff.wav"},function(e,t,n){e.exports=n.p+"static/media/Confidence10.f1f8fd02.wav"},function(e,t,n){e.exports=n.p+"static/media/Surprisal1.95e60fcc.wav"},function(e,t,n){e.exports=n.p+"static/media/Surprisal2.3f6844b1.wav"},function(e,t,n){e.exports=n.p+"static/media/Surprisal3.e67132c2.wav"},function(e,t,n){e.exports=n.p+"static/media/Surprisal4.0b8cc577.wav"},function(e,t,n){e.exports=n.p+"static/media/Surprisal5.14ee189d.wav"},function(e,t,n){e.exports=n.p+"static/media/Surprisal6.686c771a.wav"},function(e,t,n){e.exports=n.p+"static/media/Surprisal7.6903291e.wav"},function(e,t,n){e.exports=n.p+"static/media/Surprisal8.62e1938e.wav"},function(e,t,n){e.exports=n.p+"static/media/Surprisal9.9f31568b.wav"},function(e,t,n){e.exports=n.p+"static/media/Surprisal10.5886a0ec.wav"},function(e,t,n){e.exports=n.p+"static/media/1 (81).bb93612e.wav"},function(e,t,n){e.exports=n.p+"static/media/2 (25).60beb435.wav"},function(e,t,n){e.exports=n.p+"static/media/3 (82).71810923.wav"},function(e,t,n){e.exports=n.p+"static/media/4 (69).bd5e855c.wav"},function(e,t,n){e.exports=n.p+"static/media/5 (31).62ef111d.wav"},function(e,t,n){e.exports=n.p+"static/media/6 (52).57c3c080.wav"},function(e,t,n){e.exports=n.p+"static/media/7 (36).b15ce7ce.wav"},function(e,t,n){e.exports=n.p+"static/media/8 (68).79e4275e.wav"},function(e,t,n){e.exports=n.p+"static/media/9 (66).79644889.wav"},function(e,t,n){e.exports=n.p+"static/media/10 (29).13b5d7bf.wav"},function(e,t,n){e.exports=n.p+"static/media/11 (76).86220077.wav"},function(e,t,n){e.exports=n.p+"static/media/12 (21).620c3841.wav"},function(e,t,n){e.exports=n.p+"static/media/13 (37).91fcd9fc.wav"},function(e,t,n){e.exports=n.p+"static/media/14 (59).38f5376d.wav"},function(e,t,n){e.exports=n.p+"static/media/15 (77).20c181f8.wav"},function(e,t,n){e.exports=n.p+"static/media/16 (07).921bde9b.wav"},function(e,t,n){e.exports=n.p+"static/media/17 (02).b02b393f.wav"},function(e,t,n){e.exports=n.p+"static/media/18 (64).a5559605.wav"},function(e,t,n){e.exports=n.p+"static/media/19 (10).bda85c47.wav"},function(e,t,n){e.exports=n.p+"static/media/20 (19).a036ad35.wav"},function(e,t,n){e.exports=n.p+"static/media/21 (17).4faa4f34.wav"},function(e,t,n){e.exports=n.p+"static/media/22 (50).ffd7920e.wav"},function(e,t,n){e.exports=n.p+"static/media/23 (79).bbaa9dcf.wav"},function(e,t,n){e.exports=n.p+"static/media/24 (88).86c27b3d.wav"},function(e,t,n){e.exports=n.p+"static/media/25 (67).660335dd.wav"},function(e,t,n){e.exports=n.p+"static/media/26 (35).3c0cc27f.wav"},function(e,t,n){e.exports=n.p+"static/media/27 (57).b16a93c4.wav"},function(e,t,n){e.exports=n.p+"static/media/28 (11).7b0fcb96.wav"},function(e,t,n){e.exports=n.p+"static/media/29 (33).89020f5d.wav"},function(e,t,n){e.exports=n.p+"static/media/30 (27).43ec09da.wav"},function(e,t,n){e.exports=n.p+"static/media/31 (42).d76bacc4.wav"},function(e,t,n){e.exports=n.p+"static/media/32 (41).e3831bbc.wav"},function(e,t,n){e.exports=n.p+"static/media/33 (53).a54792e8.wav"},function(e,t,n){e.exports=n.p+"static/media/34 (08).a64afd9a.wav"},function(e,t,n){e.exports=n.p+"static/media/35 (74).42337cab.wav"},function(e,t,n){e.exports=n.p+"static/media/36 (30).525aab2c.wav"},function(e,t,n){e.exports=n.p+"static/media/37 (15).fc98c229.wav"},function(e,t,n){e.exports=n.p+"static/media/38 (20).b047fc14.wav"},function(e,t,n){e.exports=n.p+"static/media/39 (13).2b9d061b.wav"},function(e,t,n){e.exports=n.p+"static/media/40 (80).069a1208.wav"},function(e,t,n){e.exports=n.p+"static/media/41 (34).d011fa07.wav"},function(e,t,n){e.exports=n.p+"static/media/42 (73).5391126a.wav"},function(e,t,n){e.exports=n.p+"static/media/43 (51).3a70c701.wav"},function(e,t,n){e.exports=n.p+"static/media/44 (26).867e5dd9.wav"},function(e,t,n){e.exports=n.p+"static/media/45 (38).b204398f.wav"},function(e,t,n){e.exports=n.p+"static/media/46 (48).9d76b18c.wav"},function(e,t,n){e.exports=n.p+"static/media/47 (71).17613142.wav"},function(e,t,n){e.exports=n.p+"static/media/48 (61).1dda5117.wav"},function(e,t,n){e.exports=n.p+"static/media/49 (90).9935143c.wav"},function(e,t,n){e.exports=n.p+"static/media/50 (87).6735cd5f.wav"},function(e,t,n){e.exports=n.p+"static/media/51 (78).c411c8a4.wav"},function(e,t,n){e.exports=n.p+"static/media/52 (28).d5847d9d.wav"},function(e,t,n){e.exports=n.p+"static/media/53 (18).b5f81db3.wav"},function(e,t,n){e.exports=n.p+"static/media/54 (70).eebe9a0d.wav"},function(e,t,n){e.exports=n.p+"static/media/55 (01).5e28626b.wav"},function(e,t,n){e.exports=n.p+"static/media/56 (54).261c179c.wav"},function(e,t,n){e.exports=n.p+"static/media/57 (72).1bed9e4c.wav"},function(e,t,n){e.exports=n.p+"static/media/58 (85).3bbf6cb3.wav"},function(e,t,n){e.exports=n.p+"static/media/59 (32).12ba9e74.wav"},function(e,t,n){e.exports=n.p+"static/media/60 (65).ec1e3f0f.wav"},function(e,t,n){e.exports=n.p+"static/media/61 (40).b44dd0af.wav"},function(e,t,n){e.exports=n.p+"static/media/62 (60).add2afb2.wav"},function(e,t,n){e.exports=n.p+"static/media/63 (04).1e6d688e.wav"},function(e,t,n){e.exports=n.p+"static/media/64 (75).682e2971.wav"},function(e,t,n){e.exports=n.p+"static/media/65 (24).ce4c82a3.wav"},function(e,t,n){e.exports=n.p+"static/media/66 (63).92714c93.wav"},function(e,t,n){e.exports=n.p+"static/media/67 (16).7a6f17a1.wav"},function(e,t,n){e.exports=n.p+"static/media/68 (05).6c451bf0.wav"},function(e,t,n){e.exports=n.p+"static/media/69 (91).df252199.wav"},function(e,t,n){e.exports=n.p+"static/media/70 (55).bc93a007.wav"},function(e,t,n){e.exports=n.p+"static/media/71 (86).f144d174.wav"},function(e,t,n){e.exports=n.p+"static/media/72 (47).7210595b.wav"},function(e,t,n){e.exports=n.p+"static/media/73 (43).858cfe2f.wav"},function(e,t,n){e.exports=n.p+"static/media/74 (56).0abb20c9.wav"},function(e,t,n){e.exports=n.p+"static/media/75 (62).55d67c70.wav"},function(e,t,n){e.exports=n.p+"static/media/76 (84).0f80b98f.wav"},function(e,t,n){e.exports=n.p+"static/media/77 (14).fda45a1a.wav"},function(e,t,n){e.exports=n.p+"static/media/78 (46).b4439337.wav"},function(e,t,n){e.exports=n.p+"static/media/79 (23).1aa3c961.wav"},function(e,t,n){e.exports=n.p+"static/media/80 (22).41e90969.wav"},function(e,t,n){e.exports=n.p+"static/media/81 (83).7c89565c.wav"},function(e,t,n){e.exports=n.p+"static/media/82 (39).e269e35b.wav"},function(e,t,n){e.exports=n.p+"static/media/83 (44).7d5b6f0a.wav"},function(e,t,n){e.exports=n.p+"static/media/84 (45).67306438.wav"},,function(e,t,n){e.exports=n(443)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},,,,,,,function(e,t){},,function(e,t){},,,,,,,,,,function(e,t){},,function(e,t){},,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){},,function(e,t){},function(e,t){},,,,,function(e,t){},,function(e,t){},,,,,,function(e,t){},,function(e,t){},,,,,,,,,,,,,,,,,,,function(e,t){},,,,,,,,,,,,function(e,t){},,,function(e,t){},,,,,,,,,,,,,,,,,,,,function(e,t,n){e.exports=n.p+"static/media/demoG.8f966a49.mp3"},,,,,,,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},,,,,,,,,,,function(e,t,n){},function(e,t,n){"use strict";n.r(t),n.d(t,"history",(function(){return Oi}));var a=n(0),r=n.n(a),i=n(151),o=n.n(i),l=(n(283),n(2)),s=n(3),c=n(5),u=n(4),m=(n(284),n(11)),d=n(29),p=n(53),f=n.n(p);n(285),n(13),n(286);function h(){try{return localStorage.setItem("test","test"),localStorage.removeItem("test"),!0}catch(e){return!1}}var b=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(405);var E=function(){var e={background:127.5,angle:Math.floor(135*Math.random())+45,imsize:256,initcontrast:.5,threshold:.2,phases:[0,.25],phase:0,alpha:.5,ppd:80,frequency:0};return e.phase=e.phases[Math.round(Math.random())],e.frequency=2/e.ppd,e}(),v=(function(e,t){e.map((function(e){return E.background+e*E.background*t}))}(function(e){for(var t=[],n=[],a=1;a<e.imsize+1;a++)for(var r=1;r<e.imsize+1;r++)t[4*(a-1+(r-1)*e.imsize)+0]=a-(e.imsize+1)/2,t[4*(a-1+(r-1)*e.imsize)+1]=a-(e.imsize+1)/2,t[4*(a-1+(r-1)*e.imsize)+2]=a-(e.imsize+1)/2,t[4*(a-1+(r-1)*e.imsize)+3]=a-(e.imsize+1)/2,n[4*(a-1+(r-1)*e.imsize)+0]=r-(e.imsize+1)/2,n[4*(a-1+(r-1)*e.imsize)+1]=r-(e.imsize+1)/2,n[4*(a-1+(r-1)*e.imsize)+2]=r-(e.imsize+1)/2,n[4*(a-1+(r-1)*e.imsize)+3]=r-(e.imsize+1)/2;for(var i=[],o=0;o<t.length&&o<n.length;o++)i[o]=.5*Math.cos(2*Math.PI*(e.frequency*(Math.sin(Math.PI/180*e.angle)*t[o]+Math.cos(Math.PI/180*e.angle)*n[o])+e.phase));return i}(E),0),{duration:300,amp:1,frequency:1250});function y(e,t,n){return Math.pow(10,(e-n)/20)*t}var w=n(28),g=n(13),k=n(141),S=w.taskName,T=["updatePdf","warnPdf","normalizePdf","tGuess","tGuessSd","pThreshold","xThreshold","beta","delta","gamma","grain","dim","quantileOrder"];function x(){return D.store.processedData}function O(e){return"component_"+e}function C(e,t,n,a,r,i,o,l,s,c){var u=D.store,m=O(e);u[m]={},u[m].decibels=t,u[m].response=n,u[m].responseTime=a,g.isUndefined(r)||(u[m].ratings=r),g.isUndefined(i)||(u[m].ratingsRaw=i),g.isUndefined(o)||(u[m].surprisals=o),g.isUndefined(l)||(u[m].surprisalsRaw=l),u[m].timestamps=s,u[m].startTimestamp=c,D.save()}function R(){return D.store.encrypted_metadata}function N(){return D.store.survey_url}function I(){return D.store.dataSent}function _(e){D.store.dataSent=e,D.save()}function j(){if(g.isUndefined(R()))return!1;if(g.isUndefined(D.store.quest))return!1;if(!w.debug)for(var e=1;e<=4;e++)if(g.isUndefined((t=e,D.store[O(t)])))return!1;var t;return!0}var D={get store(){if(g.isUndefined(this._store))if(h()){var e=JSON.parse(localStorage.getItem(S));this._store=e||{}}else this._store={};return this._store},save(){h()&&(localStorage.setItem(S,JSON.stringify(this.store)),w.debug&&console.log("saved: "+localStorage.getItem(S)))},clear(){w.debug&&console.log("cleared"),this._store=void 0,h()&&localStorage.removeItem(S)}};function P(){var e=R(),t=I();D.clear(),D.store.encrypted_metadata=e,D.store.dataSent=t,D.save()}function L(){var e=document.createElement("a"),t=new Blob([JSON.stringify(localStorage)],{type:"text/plain"});e.href=URL.createObjectURL(t),e.download="MCH_tast_data.txt",document.body.appendChild(e),e.click()}var F=n(407),Y=n(13),A=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).keyFunction=a.keyFunction.bind(Object(d.a)(a)),a.state={continue:!1,invalid:!1,dataSent:!1},a}return Object(s.a)(n,[{key:"keyFunction",value:function(e){81===e.keyCode&&this.setState((function(e,t){return{continue:!0}}))}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.keyFunction,!1);var e,t,n=F.parse(this.props.location.search,{ignoreQueryPrefix:!0});Y.isUndefined(n.id)?Y.isUndefined(R())&&this.setState({invalid:!0}):(e=n.id)!==D.store.encrypted_metadata&&(D.clear(),D.store.encrypted_metadata=e,D.save()),Y.isUndefined(n.survey_url)||(t=n.survey_url,D.store.survey_url=t,D.save()),I()&&this.setState({dataSent:!0})}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.keyFunction,!1)}},{key:"render",value:function(){return this.state.invalid?r.a.createElement(m.a,{to:"/Error"}):this.state.dataSent?r.a.createElement(m.a,{to:"/ThankYou"}):!0===this.state.continue?r.a.createElement(m.a,{to:"/Instructions"}):r.a.createElement("div",{className:"Welcome"},r.a.createElement("input",{type:"hidden"}),r.a.createElement("header",{className:"Welcome-header"},r.a.createElement("div",{className:"text-container"},r.a.createElement("p",{className:"Welcome-text"},r.a.createElement("span",{className:"bigger"},"Welcome to the study! "),r.a.createElement("br",null),r.a.createElement("br",null)," In this task you will hear a series of 6 note melodies.",r.a.createElement("br",null),r.a.createElement("br",null)," You will be asked to indicate whether you hear the final note of the melody being played.",r.a.createElement("br",null),r.a.createElement("br",null),"Please enter responses to the questions asked by pressing the:",r.a.createElement("br",null),r.a.createElement("br",null),"  ",r.a.createElement("font",{size:"+2"}," ",r.a.createElement("b",null," 'Q' key for 'YES I HEAR IT'")," or ",r.a.createElement("b",null," 'E' key for \"NO I DO NOT\"")," "),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null)," Sometimes it may be difficult to answer, but if you do not know, please make your best guess.",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null)," Please keep your volume (including headphones) and screen brightness at maximum level throughout the experiment.",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null)," PRESS the ",r.a.createElement("b",null," YES I HEAR IT / 'Q' key ")," to CONTINUE")),r.a.createElement("a",{href:"https://medicine.yale.edu/psychiatry/care/cmhc/",title:"Learn more about the Connecticut Mental Health Center",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("img",{src:f.a,className:"Site-link",alt:"logo"}))))}}]),n}(a.Component),U=(n(424),function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).keyFunction=function(e){81===e.keyCode&&a.setState((function(e,t){return{continue:!0}}))},a.state={continue:!1},a}return Object(s.a)(n,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.keyFunction,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.keyFunction,!1)}},{key:"render",value:function(){return!0===this.state.continue?r.a.createElement(m.a,{to:"/Trial_P"}):r.a.createElement("div",{className:"Instructions"},r.a.createElement("input",{type:"hidden"}),r.a.createElement("header",{className:"Instructions-header"},r.a.createElement("div",{className:"text-container"},r.a.createElement("p",{className:"Instructions-text"},"This is a hearing test.",r.a.createElement("br",null),r.a.createElement("br",null)," Auditory white noise (like static radio) will be played throughout the experiment.",r.a.createElement("br",null),r.a.createElement("br",null)," The final note of the melody might play while the white noise continues when there are diagonal red stripes on the screen.",r.a.createElement("br",null),r.a.createElement("br",null),"Only respond when you see the stripes.",r.a.createElement("br",null),r.a.createElement("br",null)," Press  ",r.a.createElement("font",{size:"+2"},"  ",r.a.createElement("b",null,' "Q"/YES ')," ")," if you ",r.a.createElement("b",null," DO "),"hear the tone.",r.a.createElement("br",null),r.a.createElement("br",null)," Press ",r.a.createElement("font",{size:"+2"}," ",r.a.createElement("b",null,' "E"/NO ')," ")," if you ",r.a.createElement("b",null," DO NOT ")," hear the tone.",r.a.createElement("br",null),r.a.createElement("br",null)," Please respond as ",r.a.createElement("b",null," QUICKLY ")," and as ",r.a.createElement("b",null," ACCURATELY ")," as you ",r.a.createElement("b",null," POSSIBLY CAN "),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),' PRESS "Q"/YES TO BEGIN A SHORT PRACTICE SESSION'))))}}]),n}(a.Component)),H=(n(425),function(){return r.a.createElement("div",{className:"NotFound"},r.a.createElement("h3",null,"Sorry, page not found!"))}),M=(n(426),function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).keyFunction=function(e){81===e.keyCode&&a.setState((function(e,t){return{continue:!0}}))},a.state={continue:!1},a}return Object(s.a)(n,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.keyFunction,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.keyFunction,!1)}},{key:"render",value:function(){return!0===this.state.continue?r.a.createElement(m.a,{to:"/Trial_TT_1"}):r.a.createElement("div",{className:"Complete"},r.a.createElement("header",{className:"Complete-header"},r.a.createElement("div",{className:"text-container"},r.a.createElement("p",{className:"Complete-text"},"Congratulations!",r.a.createElement("br",null),r.a.createElement("br",null)," The first part of the experiment is over.",r.a.createElement("br",null),r.a.createElement("br",null)," Now we will continue with the next trials. Now, there will be ratings similar to the third practice.",r.a.createElement("br",null),r.a.createElement("br",null)," You will see two rating screens following each red diagonal stripes. For the first screen press",r.a.createElement("br",null),r.a.createElement("br",null)," and then hold the ",r.a.createElement("b",null,' "Q"/YES ')," button or ",r.a.createElement("b",null,' "E"/NO ')," button.",r.a.createElement("br",null),r.a.createElement("br",null)," The longer you hold it down, the more certain you are of your choice.",r.a.createElement("br",null),r.a.createElement("br",null)," If you hold ",r.a.createElement("b",null,' "Q"/YES '),"  button down for a long time, you are very certain that you  ",r.a.createElement("b",null," DO ")," hear the final note.",r.a.createElement("br",null),r.a.createElement("br",null)," If you hold ",r.a.createElement("b",null,' "E"/NO '),"  button down for a long time, you are very certain that you ",r.a.createElement("b",null," DO NOT ")," hear the final note.",r.a.createElement("br",null),r.a.createElement("br",null)," Please respond as ",r.a.createElement("b",null," QUICKLY ")," and as ",r.a.createElement("b",null," ACCURATELY ")," as you ",r.a.createElement("b",null," POSSIBLY CAN "),r.a.createElement("br",null),r.a.createElement("br",null)," For the second screen press the same key again to indicate the fit of the final note.",r.a.createElement("br",null),r.a.createElement("br",null)," The longer you hold it down, the better the final note fit into the melody.",r.a.createElement("br",null),r.a.createElement("br",null)," If you hold the key down for a long time, the final note was a ",r.a.createElement("b",null," GOOD FIT "),".",r.a.createElement("br",null),r.a.createElement("br",null)," If you hold the key down for a short time, the final note was a ",r.a.createElement("b",null," BAD FIT "),".",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),' PRESS "Q"/YES WHEN READY TO CONTINUE.'))))}}]),n}(a.Component)),W=(n(427),function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).keyFunction=function(e){81===e.keyCode&&a.setState((function(e,t){return{continue:!0}}))},a.state={continue:!1},a}return Object(s.a)(n,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.keyFunction,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.keyFunction,!1)}},{key:"render",value:function(){return!0===this.state.continue?r.a.createElement(m.a,{to:"/Trial_P_rating"}):r.a.createElement("div",{className:"Continue"},r.a.createElement("header",{className:"Continue-header"},r.a.createElement("div",{className:"text-container"},r.a.createElement("p",{className:"Continue-text"},"Great!",r.a.createElement("br",null),r.a.createElement("br",null)," First task complete! You will do the same thing in the next task, with some important differences:",r.a.createElement("br",null),r.a.createElement("br",null)," You will see a rating screen following each diagonal red stripes, press",r.a.createElement("br",null),r.a.createElement("br",null)," and then hold the ",r.a.createElement("b",null,' "Q"/YES ')," button or ",r.a.createElement("b",null,' "E"/NO ')," button.",r.a.createElement("br",null),r.a.createElement("br",null)," The longer you hold it down, the more certain you are of your choice.",r.a.createElement("br",null),r.a.createElement("br",null)," If you hold ",r.a.createElement("b",null,' "Q"/YES '),"  button down for a long time, you are very certain that you  ",r.a.createElement("b",null," DO ")," hear the final note of the melody.",r.a.createElement("br",null),r.a.createElement("br",null)," If you hold ",r.a.createElement("b",null,' "E"/NO '),"  button down for a long time, you are very certain that you ",r.a.createElement("b",null," DO NOT ")," hear the final note of the melody.",r.a.createElement("br",null),r.a.createElement("br",null)," Please respond as ",r.a.createElement("b",null," QUICKLY ")," and as ",r.a.createElement("b",null," ACCURATELY ")," as you ",r.a.createElement("b",null," POSSIBLY CAN "),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),' PRESS "Q"/YES WHEN READY TO CONTINUE.'))))}}]),n}(a.Component)),q=(n(144),function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).keyFunction=function(e){81===e.keyCode&&a.setState((function(e,t){return{continue:!0}}))},a.state={continue:!1},a}return Object(s.a)(n,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.keyFunction,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.keyFunction,!1)}},{key:"render",value:function(){return!0===this.state.continue?r.a.createElement(m.a,{to:"/Trial_P_surprisal"}):r.a.createElement("div",{className:"Continue_rating"},r.a.createElement("header",{className:"Continue_rating-header"},r.a.createElement("div",{className:"text-container"},r.a.createElement("p",{className:"Continue_rating-text"},"Great!",r.a.createElement("br",null),r.a.createElement("br",null)," Second task complete! You will do the same thing in the next task, with some important differences:",r.a.createElement("br",null),r.a.createElement("br",null)," After the certainty rating screen you will see another rating screen following each diagonal red stripes, press",r.a.createElement("br",null),r.a.createElement("br",null)," and then hold the same key from the previous rating screen.",r.a.createElement("br",null),r.a.createElement("br",null)," The longer you hold it down, the better the final note fit into the melody.",r.a.createElement("br",null),r.a.createElement("br",null)," If you hold the key down for a long time, the final note was a ",r.a.createElement("b",null," GOOD FIT "),".",r.a.createElement("br",null),r.a.createElement("br",null)," If you hold the key down for a short time, the final note was a ",r.a.createElement("b",null," BAD FIT "),".",r.a.createElement("br",null),r.a.createElement("br",null)," Please respond as ",r.a.createElement("b",null," QUICKLY ")," and as ",r.a.createElement("b",null," ACCURATELY ")," as you ",r.a.createElement("b",null," POSSIBLY CAN "),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),' PRESS "Q"/YES WHEN READY TO CONTINUE.'))))}}]),n}(a.Component)),B=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).keyFunction=function(e){81===e.keyCode&&a.setState((function(e,t){return{continue:!0}}))},a.state={continue:!1},a}return Object(s.a)(n,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.keyFunction,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.keyFunction,!1)}},{key:"render",value:function(){return!0===this.state.continue?r.a.createElement(m.a,{to:"/TrialQ"}):r.a.createElement("div",{className:"Continue_rating"},r.a.createElement("header",{className:"Continue_rating-header"},r.a.createElement("div",{className:"text-container"},r.a.createElement("p",{className:"Continue_rating-text"},"Great!",r.a.createElement("br",null),r.a.createElement("br",null)," You have completed the practice trials. Now onto the real test.",r.a.createElement("br",null),r.a.createElement("br",null),"  It is important to note that the final notes in the practice sessions were there to make sure",r.a.createElement("br",null),r.a.createElement("br",null),"  you understood what to do, with very obvious and impossible-to-hear tones.",r.a.createElement("br",null),r.a.createElement("br",null),"  The final note of the melodies in the remainder of the experiment",r.a.createElement("br",null),r.a.createElement("br",null),"  may be very difficult to hear so you will have to listen very hard.",r.a.createElement("br",null),r.a.createElement("br",null),"  Sometimes it might be difficult to answer, but if you do not know, please guess.",r.a.createElement("br",null),r.a.createElement("br",null),"  For this first task, you will not be asked to rate your confidence or fit of the note so just quickly press",r.a.createElement("br",null),r.a.createElement("br",null),"  and release the button as soon as the screen flashes with the diagonal red stripes.",r.a.createElement("br",null),r.a.createElement("br",null)," Press  ",r.a.createElement("font",{size:"+2"},"  ",r.a.createElement("b",null,' "Q"/YES ')," ")," if you ",r.a.createElement("b",null," DO "),"hear the note.",r.a.createElement("br",null),r.a.createElement("br",null)," Press ",r.a.createElement("font",{size:"+2"}," ",r.a.createElement("b",null,' "E"/NO ')," ")," if you ",r.a.createElement("b",null," DO NOT ")," hear the note.",r.a.createElement("br",null),r.a.createElement("br",null)," Please respond as ",r.a.createElement("b",null," QUICKLY ")," and as ",r.a.createElement("b",null," ACCURATELY ")," as you ",r.a.createElement("b",null," POSSIBLY CAN "),r.a.createElement("br",null),r.a.createElement("br",null)," There will be scheduled breaks throughout the experiment, but please do not take a break unless instructed.",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),' PRESS "Q"/YES TO BEGIN THE EXPERIMENT.'))))}}]),n}(a.Component),Q=n(277),z=(n(428),n(145),n(153)),K=n.n(z),G=n(154),J=n.n(G),V=n(155),X=n.n(V),$=n(156),Z=n.n($),ee=n(157),te=n.n(ee),ne=n(158),ae=n.n(ne),re=n(159),ie=n.n(re),oe=n(160),le=n.n(oe),se=n(161),ce=n.n(se),ue=n(162),me=n.n(ue),de=(n(13),n(429),{0:"",1:K.a,2:J.a,3:X.a,4:Z.a,5:te.a}),pe={0:"",1:ae.a,2:ie.a,3:le.a,4:ce.a,5:me.a},fe=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){return Object(l.a)(this,n),t.call(this,e)}return Object(s.a)(n,[{key:"drawCanvas",value:function(){this.resizeCanvas();var e=document.getElementById("c"),t=e.getContext("2d"),n=t.getImageData(0,0,e.width,e.height),a=n.data,r=e.width,i=e.height,o=Math.max(1,e.height/18),l=Math.floor(r/o),s=Math.floor(i/o),c=(i/o-s)/2*o;s%2==1&&(c+=o/2);for(var u=0;u<r;u++)for(var m=0;m<i;m++)if(this.props.showContrast){var d=163*Math.abs(Math.floor((m-c)/o)%2);a[4*(u+m*r)+0]=.80224*d,a[4*(u+m*r)+1]=0,a[4*(u+m*r)+2]=0,a[4*(u+m*r)+3]=255}else a[4*(u+m*r)+0]=0,a[4*(u+m*r)+1]=0,a[4*(u+m*r)+2]=0,a[4*(u+m*r)+3]=255;t.putImageData(n,0,0)}},{key:"resizeCanvas",value:function(){var e=document.getElementById("c");e.width=window.innerWidth,e.height=window.innerHeight}},{key:"componentDidMount",value:function(){this.drawCanvas()}},{key:"componentDidUpdate",value:function(e){this.drawCanvas()}},{key:"render",value:function(){return r.a.createElement("div",null,this.props.surprisalReady?r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{src:pe[this.props.currentSurprisal],width:256,height:256,className:"center",style:{zIndex:101,width:"95vh",height:"50vh",backgroundColor:"black",visibility:this.props.showSurprisals?"visible":"hidden"}}),r.a.createElement("div",{style:{zIndex:100,backgroundColor:"black",width:"100vw",height:"100vh",position:"fixed",top:0,left:0,visibility:this.props.showSurprisals?"visible":"hidden"}})):r.a.createElement(r.a.Fragment,null),this.props.surprisalReady?r.a.createElement(r.a.Fragment,null):r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{src:de[this.props.currentRating],width:256,height:256,className:"center",style:{zIndex:101,width:"95vh",height:"50vh",backgroundColor:"black",visibility:this.props.showRatings?"visible":"hidden"}}),r.a.createElement("div",{style:{zIndex:100,backgroundColor:"black",width:"100vw",height:"100vh",position:"fixed",top:0,left:0,visibility:this.props.showRatings?"visible":"hidden"}})),r.a.createElement("canvas",{id:"c",style:{position:"fixed",top:0,left:0,zIndex:1,width:"100%",height:"100%"}}),r.a.createElement("div",{className:"center cross-1",style:{zIndex:10}}),r.a.createElement("div",{className:"center cross-2",style:{zIndex:10}}))}}]),n}(a.Component);fe.defaultProps={showContrast:!1,showRatings:!1,showSurprisals:!1,contrast:0,surprisalReady:!1};var he=fe,be=n(84),Ee=n.n(be),ve=n(163),ye=n.n(ve),we=n(164),ge=n.n(we),ke=n(165),Se=n.n(ke),Te=n(166),xe=n.n(Te),Oe=n(167),Ce=n.n(Oe),Re=n(168),Ne=n.n(Re),Ie=n(169),_e=n.n(Ie),je=n(170),De=n.n(je),Pe=n(171),Le=n.n(Pe),Fe=n(172),Ye=n.n(Fe),Ae=[ye.a,ge.a,Se.a,xe.a,Ce.a,Ne.a,_e.a,De.a,Le.a,Ye.a],Ue=Ae,He=n(173),Me=n.n(He),We=n(174),qe=n.n(We),Be=n(175),Qe=n.n(Be),ze=n(176),Ke=n.n(ze),Ge=n(177),Je=n.n(Ge),Ve=n(178),Xe=n.n(Ve),$e=n(179),Ze=n.n($e),et=n(180),tt=n.n(et),nt=n(181),at=n.n(nt),rt=n(182),it=n.n(rt),ot=[Me.a,qe.a,Qe.a,Ke.a,Je.a,Xe.a,Ze.a,tt.a,at.a,it.a],lt=ot,st=n(183),ct=n.n(st),ut=n(184),mt=n.n(ut),dt=n(185),pt=n.n(dt),ft=n(186),ht=n.n(ft),bt=n(187),Et=n.n(bt),vt=n(188),yt=n.n(vt),wt=n(189),gt=n.n(wt),kt=n(190),St=n.n(kt),Tt=n(191),xt=n.n(Tt),Ot=n(192),Ct=n.n(Ot),Rt=[ct.a,mt.a,pt.a,ht.a,Et.a,yt.a,gt.a,St.a,xt.a,Ct.a],Nt=n(193),It=n.n(Nt),_t=n(194),jt=n.n(_t),Dt=n(195),Pt=n.n(Dt),Lt=n(196),Ft=n.n(Lt),Yt=n(197),At=n.n(Yt),Ut=n(198),Ht=n.n(Ut),Mt=n(199),Wt=n.n(Mt),qt=n(200),Bt=n.n(qt),Qt=n(201),zt=n.n(Qt),Kt=n(202),Gt=n.n(Kt),Jt=n(203),Vt=n.n(Jt),Xt=n(204),$t=n.n(Xt),Zt=n(205),en=n.n(Zt),tn=n(206),nn=n.n(tn),an=n(207),rn=n.n(an),on=n(208),ln=n.n(on),sn=n(209),cn=n.n(sn),un=n(210),mn=n.n(un),dn=n(211),pn=n.n(dn),fn=n(212),hn=n.n(fn),bn=n(213),En=n.n(bn),vn=n(214),yn=n.n(vn),wn=n(215),gn=n.n(wn),kn=n(216),Sn=n.n(kn),Tn=n(217),xn=n.n(Tn),On=n(218),Cn=n.n(On),Rn=n(219),Nn=n.n(Rn),In=n(220),_n=n.n(In),jn=n(221),Dn=n.n(jn),Pn=n(222),Ln=n.n(Pn),Fn=n(223),Yn=n.n(Fn),An=n(224),Un=n.n(An),Hn=n(225),Mn=n.n(Hn),Wn=n(226),qn=n.n(Wn),Bn=n(227),Qn=n.n(Bn),zn=n(228),Kn=n.n(zn),Gn=n(229),Jn=n.n(Gn),Vn=n(230),Xn=n.n(Vn),$n=n(231),Zn=n.n($n),ea=n(232),ta=n.n(ea),na=n(233),aa=n.n(na),ra=n(234),ia=n.n(ra),oa=n(235),la=n.n(oa),sa=n(236),ca=n.n(sa),ua=n(237),ma=n.n(ua),da=n(238),pa=n.n(da),fa=n(239),ha=n.n(fa),ba=n(240),Ea=n.n(ba),va=n(241),ya=n.n(va),wa=n(242),ga=n.n(wa),ka=n(243),Sa=n.n(ka),Ta=n(244),xa=n.n(Ta),Oa=n(245),Ca=n.n(Oa),Ra=n(246),Na=n.n(Ra),Ia=n(247),_a=n.n(Ia),ja=n(248),Da=n.n(ja),Pa=n(249),La=n.n(Pa),Fa=n(250),Ya=n.n(Fa),Aa=n(251),Ua=n.n(Aa),Ha=n(252),Ma=n.n(Ha),Wa=n(253),qa=n.n(Wa),Ba=n(254),Qa=n.n(Ba),za=n(255),Ka=n.n(za),Ga=n(256),Ja=n.n(Ga),Va=n(257),Xa=n.n(Va),$a=n(258),Za=n.n($a),er=n(259),tr=n.n(er),nr=n(260),ar=n.n(nr),rr=n(261),ir=n.n(rr),or=n(262),lr=n.n(or),sr=n(263),cr=n.n(sr),ur=n(264),mr=n.n(ur),dr=n(265),pr=n.n(dr),fr=n(266),hr=n.n(fr),br=n(267),Er=n.n(br),vr=n(268),yr=n.n(vr),wr=n(269),gr=n.n(wr),kr=n(270),Sr=n.n(kr),Tr=n(271),xr=n.n(Tr),Or=n(272),Cr=n.n(Or),Rr=n(273),Nr=n.n(Rr),Ir=n(274),_r=n.n(Ir),jr=n(275),Dr=n.n(jr),Pr=n(276),Lr=n.n(Pr),Fr=[It.a,jt.a,Pt.a,Ft.a,At.a,Ht.a,Wt.a,Bt.a,zt.a,Gt.a,Vt.a,$t.a,en.a,nn.a,rn.a,ln.a,cn.a,mn.a,pn.a,hn.a,En.a,yn.a,gn.a,Sn.a,xn.a,Cn.a,Nn.a,_n.a,Dn.a,Ln.a,Yn.a,Un.a,Mn.a,qn.a,Qn.a,Kn.a,Jn.a,Xn.a,Zn.a,ta.a,aa.a,ia.a,la.a,ca.a,ma.a,pa.a,ha.a,Ea.a,ya.a,ga.a,Sa.a,xa.a,Ca.a,Na.a,_a.a,Da.a,La.a,Ya.a,Ua.a,Ma.a,qa.a,Qa.a,Ka.a,Ja.a,Xa.a,Za.a,tr.a,ar.a,ir.a,lr.a,cr.a,mr.a,pr.a,hr.a,Er.a,yr.a,gr.a,Sr.a,xr.a,Cr.a,Nr.a,_r.a,Dr.a,Lr.a],Yr=n(13),Ar=n(28),Ur=window.AudioContext||window.webkitAudioContext,Hr=(Yr.map(Yr.keys({49:1,50:2,51:3,52:4,53:5}),(function(e){return parseInt(e,10)})),Yr.map(Yr.keys({49:1,50:2,51:3,52:4,53:5}),(function(e){return parseInt(e,10)})),function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).playStimulus=function(){var e=Object(d.a)(a);if(Ar.debug&&e.log_debug(),e.state.index!=e.props.decibels.length)if(e.numAttempts++!=e.numAttemptsLimit){e.setState({responseWindow:!0}),e.startTime=(new Date).getTime();var t=e.props.decibels[e.state.index];if(0==e.props.audioSource.length)e.setState({keyInput:!0}),console.log("key inputs true"),setTimeout((function(){e.playVisualStimulus(1e3);var n=new Audio(Ee.a);console.log("dec "+t);var r=498574e-11*Math.pow(1.18765,t);console.log("volume"+r),n.volume=r,n.play(),a.stimulusTimer=setTimeout(a.playStimulus,e.delay+e.jitter())}),500),a.addTimestamp("stim");else{var n=new Audio(e.props.audioSource[e.state.index]);n.volume=.3,n.play(),setTimeout((function(){e.setState({keyInput:!0}),console.log("key inputs true")}),2300),setTimeout((function(){console.log("visual stimulus playing"),e.playVisualStimulus(1e3),n.pause(),n.currentTime=0;var r=new Audio(Ee.a),i=498574e-11*Math.pow(1.18765,t);r.volume=i,r.play(),a.stimulusTimer=setTimeout(a.playStimulus,e.delay+e.jitter())}),2432),a.addTimestamp("stim")}}else e.setState({complete:!0});else e.shutdown()},a.recordResponse=function(e){if(a.state.responseWindow&&Yr.includes([81,69],e.keyCode)){var t=Object(d.a)(a);a.addTimestamp("resp");var n=(new Date).getTime(),r=81===e.keyCode?1:0;if(a.response.push(r),a.responseTime.push(n-a.startTime),a.setState({responseWindow:!1}),a.timebox=null,a.props.responseHandler(r),a.props.shouldRecordSurprisals){var i=function e(){0==t.state.surprisalReady?t.finishedTimer=setTimeout((function(){e()}),100):(t.surprisalStartTime=(new Date).getTime(),function e(){t.numIterations++,t.surprisalTimer=setTimeout((function(){if(5==t.numIterations||t.state.stopShowingSurprisal)return t.numIterations=0,t.prevKey=null,t.finishSurprisalWindow(),t.setState({surprisalReady:!1,confidenceFinished:!1,keyInput:!1}),void console.log("key inputs false");t.state.stopIncrementingSurprisal||t.setState({currentSurprisal:t.state.currentSurprisal+1}),e()}),250)}())};clearTimeout(a.stimulusTimer),a.setState({ratingWindow:!0,surprisalWindow:!0,currentRating:t.numIterations||1,currentSurprisal:t.numIterations||1,stopShowingRating:!1,stopIncrementingRating:!1,confidenceFinished:!1,stopShowingSurprisal:!1,stopIncrementingSurprisal:!1}),t.numIterations=t.numIterations||0,a.ratingStartTime=(new Date).getTime(),function e(){t.numIterations++,t.ratingTimer=setTimeout((function(){if(5==t.numIterations||t.state.stopShowingRating)return t.numIterations=0,t.prevKey=null,t.setState({confidenceFinished:!0}),t.finishRatingWindow(),void i();t.state.stopIncrementingRating||t.setState({currentRating:t.state.currentRating+1}),e()}),250)}()}else if(a.props.shouldRecordRatings){clearTimeout(a.stimulusTimer),a.setState({ratingWindow:!0,currentRating:t.numIterations||1,stopShowingRating:!1,stopIncrementingRating:!1}),t.numIterations=t.numIterations||0,a.ratingStartTime=(new Date).getTime(),function e(){t.numIterations++,t.ratingTimer=setTimeout((function(){if(5==t.numIterations||t.state.stopShowingRating)return t.numIterations=0,t.prevKey=null,void t.finishRatingWindow();t.state.stopIncrementingRating||t.setState({currentRating:t.state.currentRating+1}),e()}),250)}()}else a.prevKey=null,a.setState({index:a.state.index+1})}else a.prevKey=null},a.keyDownFunction=function(e){if(a.state.readyToStart)return a.setState({readyToStart:!1}),a.audioContext.resume(),void a.startTrial();if(0!=a.state.keyInput){if(Yr.includes([81,69],e.keyCode)){if(a.isKeyDown[e.keyCode])return;a.isKeyDown[e.keyCode]=!0}null===a.prevKey&&(a.prevKey=e.keyCode),a.prevKey===e.keyCode&&(clearTimeout(a.timebox),a.timebox=setTimeout((function(){a.props.shouldRecordSurprisals&&a.state.confidenceFinished?(a.setState({stopIncrementingSurprisal:!1}),a.setState({surprisalReady:!0}),a.surprisalStartTime=(new Date).getTime()):(a.setState({stopIncrementingRating:!1}),a.recordResponse(e))}),50))}},a.keyUpFunction=function(e){if(0!=a.state.keyInput)if(a.props.shouldRecordSurprisals){if(Yr.includes([81,69],e.keyCode)&&(a.isKeyDown[e.keyCode]=!1),!a.trialStartedUp)return a.trialStartedUp=!0,a.setState({confidenceFinished:!1}),void a.setState({surprisalReady:!1});if(a.state.surprisalReady){if(a.setState({stopIncrementingSurprisal:!0}),(1==Yr.last(a.response)?81:69)==e.keyCode){a.addTimestamp("surprisal");var t=(new Date).getTime();a.surprisalsRaw.push(t-a.surprisalStartTime)}}else a.setState({stopIncrementingRating:!0});if(a.state.surprisalWindow)if(a.timebox)setTimeout((function(){a.timebox=null,a.prevKey=null}),250);else if((1==Yr.last(a.response)?81:69)==e.keyCode){a.addTimestamp("rating");t=(new Date).getTime();a.ratingsRaw.push(t-a.ratingStartTime)}}else{if(Yr.includes([81,69],e.keyCode)&&(a.isKeyDown[e.keyCode]=!1),a.setState({stopIncrementingRating:!0}),a.setState({stopIncrementingSurprisal:!0}),a.state.ratingWindow)if(a.timebox)setTimeout((function(){a.timebox=null,a.prevKey=null}),250);else if((1==Yr.last(a.response)?81:69)==e.keyCode){a.addTimestamp("rating");t=(new Date).getTime();a.ratingsRaw.push(t-a.ratingStartTime)}}else console.log("IGNORE IGNORE up")},a.finishRatingWindow=function(){if(a.ratings.push(a.state.currentRating),a.ratings.length>a.ratingsRaw.length){a.addTimestamp("rating");var e=(new Date).getTime();a.ratingsRaw.push(e-a.ratingStartTime),a.setState({stopIncrementingRating:!0})}a.props.shouldRecordSurprisals?a.setState({ratingWindow:!1}):(a.setState({index:a.state.index+1,ratingWindow:!1}),a.stimulusTimer=setTimeout(a.playStimulus,1e3+a.jitter()))},a.finishSurprisalWindow=function(){if(a.surprisals.push(a.state.currentSurprisal),a.surprisals.length>a.surprisalsRaw.length){a.addTimestamp("surprisal");var e=(new Date).getTime();a.surprisalsRaw.push(e-a.surprisalStartTime),a.setState({stopIncrementingRating:!0}),a.setState({stopIncrementingSurprisal:!0})}a.setState({index:a.state.index+1,ratingWindow:!1,surprisalWindow:!1}),a.stimulusTimer=setTimeout(a.playStimulus,1e3+a.jitter())},a.state={index:0,showContrast:!1,responseWindow:!1,ratingWindow:!1,surprisalWindow:!1,trialStarted:!1,trialStartedUp:!1,complete:!1,invalid:!1,readyToStart:!1,dataSent:I(),currentRating:1,stopIncrementingRating:!1,stopShowingRating:!1,currentSurprisal:1,stopIncrementingSurprisal:!1,stopShowingSurprisal:!1,confidenceFinished:!1,surprisalReady:!1,keyInput:!1},a.canvasRef=r.a.createRef(),a.audioContext=new Ur,a.initialDelay=2e3,a.delay=5e3,a.numAttempts=0,a.numAttemptsLimit=1e3,a.response=[],a.responseTime=[],a.ratings=[],a.ratingsRaw=[],a.surprisals=[],a.surprisalsRaw=[],a.timestamps=[],a.ratingTimer=void 0,a.surprisalTimer=void 0,a.stimulusTimer=void 0,a.finishedTimer=void 0,a.componentStartTime=0,a.startTime=0,a.ratingStartTime=0,a.surprisalStartTime=0,a.timebox=null,a.numIterations=0,a.isKeyDown={Q_KEY_CODE:!1,E_KEY_CODE:!1},a.prevKey=null,a}return Object(s.a)(n,[{key:"addTimestamp",value:function(e){"start"==e?(this.componentStartTime=(new Date).getTime(),this.timestamps.push([e,0])):this.timestamps.push([e,(new Date).getTime()-this.componentStartTime])}},{key:"playVisualStimulus",value:function(e){var t=this;this.setState({showContrast:!0}),setTimeout((function(){t.setState({showContrast:!1})}),e)}},{key:"startTrial",value:function(){this.setState({trialStarted:!0}),this.stimulusTimer=setTimeout(this.playStimulus,this.initialDelay),function(e){for(var t=3*e.sampleRate,n=e.createBuffer(2,t,e.sampleRate),a=(n.getChannelData(0),0);a<n.numberOfChannels;a++)for(var r=n.getChannelData(a),i=0;i<n.length;i++)r[i]=(2*Math.random()-1)*y(80,.015,78.3);var o=e.createBufferSource();o.buffer=n,o.loop=!0,o.connect(e.destination),o.start(0)}(this.audioContext),this.addTimestamp("start")}},{key:"jitter",value:function(){return Math.random()/2*1e3}},{key:"shutdown",value:function(){this.addTimestamp("end"),this.saveDataToStore(),this.setState({complete:!0})}},{key:"saveDataToStore",value:function(){this.props.dataHandler(this.props.decibels,this.response,this.responseTime,this.ratings,this.ratingsRaw,this.surprisals,this.surprisalsRaw,this.timestamps)}},{key:"componentDidMount",value:function(){var e=this;document.addEventListener("keydown",this.keyDownFunction,!1),document.addEventListener("keyup",this.keyUpFunction,!1),Yr.isUndefined(R())&&this.setState({invalid:!0}),!1===this.state.complete&&setTimeout((function(){e.setState({readyToStart:!0})}),0)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.keyDownFunction,!1),document.removeEventListener("keyup",this.keyUpFunction,!1),this.audioContext.close()}},{key:"render",value:function(){return this.state.invalid?r.a.createElement(m.a,{to:"/Error"}):this.state.dataSent?r.a.createElement(m.a,{to:"/ThankYou"}):this.state.complete?this.props.trialCompleteRenderer(this.props.decibels,this.response):r.a.createElement("div",{className:"Trial "+(this.state.trialStarted?"Trial-gray":"")},this.state.trialStarted?r.a.createElement("div",{className:"Trial-stimulus"},r.a.createElement(he,{showContrast:this.state.showContrast,showRatings:this.state.ratingWindow,showSurprisals:this.state.surprisalWindow,currentRating:this.state.currentRating,currentSurprisal:this.state.currentSurprisal,surprisalReady:this.state.surprisalReady})):r.a.createElement("p",{className:"Trial-text"},this.state.readyToStart?r.a.createElement("span",null,"Press any key to begin"):r.a.createElement("span",null,"Loading...")))}},{key:"log_debug",value:function(){console.log("================================"),console.log("all decibels: "+this.props.decibels),console.log("all responses: "+this.response),console.log("all responseTime: "+this.responseTime),console.log("all timestamps: "+JSON.stringify(this.timestamps)),console.log("all ratingsRaw: "+this.ratingsRaw),console.log("all ratings: "+this.ratings),console.log("all surprisalsRaw: "+this.surprisalsRaw),console.log("all surprisals: "+this.surprisals),console.log("index: "+this.state.index),console.log("numAttempts: "+this.numAttempts),console.log("store: "+JSON.stringify(D.store)),console.log("localStorage: "+JSON.stringify(localStorage)),console.log("================================\n")}}]),n}(a.Component));Hr.defaultProps={decibels:Ar.debug?Yr.shuffle([65,65,65,65]):Yr.concat([65],Yr.shuffle([0,0,0,0,0,65,65,65,65])),audioSource:[],shouldRecordRatings:!1,shouldRecordSurprisals:!1,trialCompleteRenderer:Yr.noop,responseHandler:Yr.noop,dataHandler:Yr.noop};var Mr=Hr,Wr=n(13),qr=n(28);function Br(e,t,n){function a(a,r,i,o){return Wr.flatten([Wr.fill(Array(a),0),Wr.fill(Array(r),e),Wr.fill(Array(i),t),Wr.fill(Array(o),n)])}var r;return r=qr.debug?[a(1,1,1,0),a(1,1,1,0),a(1,1,1,0),a(1,1,1,0),a(1,1,1,0),a(1,1,1,0),a(1,1,1,0),a(1,1,1,0),a(1,1,1,0),a(1,1,1,0),a(1,1,1,0),a(1,1,1,0)]:[Wr.concat(Wr.fill(Array(5),n),Wr.shuffle(a(1,1,0,4))),a(1,0,1,2),a(2,1,1,2),a(3,1,2,1),a(3,2,1,1),a(3,2,1,1),a(3,2,2,0),a(3,2,1,1),a(3,2,2,0),a(3,2,2,1),a(3,1,2,0),a(3,2,2,0)],Wr.map(r,(function(e,t){return 0==t?e:Wr.shuffle(e)}))}function Qr(e,t,n){if(Wr.isUndefined(Qr.blocks))if(3==arguments.length)Qr.blocks=Br(e,t,n);else{var a=x();if(!Wr.isUndefined(a)){var r=a.intensities.c25,i=a.intensities.c50,o=a.intensities.c75;Qr.blocks=Br(r,i,o)}}return Qr.blocks}var zr=n(141),Kr=n(28),Gr=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var a;Object(l.a)(this,n),(a=t.call(this,e)).responseHandler=function(e){a.index>=a.maxIndex-1||(a.index%2===0?(a.q1.update(a.state.decibels[a.index],e),a.pushDecibel(a.q1.quantile())):(a.q2.update(a.state.decibels[a.index],e),a.pushDecibel(a.q2.quantile()))),a.index++},a.trialCompleteRenderer=function(){return r.a.createElement(m.a,{to:"/Complete"})},a.dataHandler=function(e,t,n,r,i,o){var l,s,c=e.filter((function(e,t){return t%2===0})),u=t.filter((function(e,t){return t%2===0})),m=n.filter((function(e,t){return t%2===0})),d=e.filter((function(e,t){return t%2===1})),p=t.filter((function(e,t){return t%2===1})),f=n.filter((function(e,t){return t%2===1}));!function(e,t,n,a,r,i,o,l,s,c){var u=D.store;u.quest={},u.quest.q1={},u.quest.q2={},u.quest.q1.decibels=n,u.quest.q1.response=a,u.quest.q1.responseTime=r,u.quest.q1.params=g.pick(e.params,T),u.quest.q2.decibels=i,u.quest.q2.response=o,u.quest.q2.responseTime=l,u.quest.q2.params=g.pick(t.params,T),u.quest.timestamps=s,u.quest.startTimestamp=c,D.save()}(a.q1,a.q2,c,u,m,d,p,f,o,a.startTimestamp),l=a.q1,s=a.q2,D.store.processedData=k.ProcessQuestData(l,s),D.save();var h=x();Qr(h.intensities.c25,h.intensities.c50,h.intensities.c75)},a.startTimestamp=(new Date).getTime(),a.state={decibels:[]};a.q1=new zr.Quest(58,4,.75,.1,.01,.01,.15,20),a.q2=new zr.Quest(58,4,.75,.1,.01,.01,.15,20);var i=Kr.debug?2:20;return a.index=0,a.maxIndex=2*i-1,a.state={decibels:[61,55]},a}return Object(s.a)(n,[{key:"pushDecibel",value:function(e){this.setState({decibels:[].concat(Object(Q.a)(this.state.decibels),[e])})}},{key:"render",value:function(){return r.a.createElement(Mr,{decibels:this.state.decibels,shouldRecordRatings:!1,trialCompleteRenderer:this.trialCompleteRenderer,dataHandler:this.dataHandler,responseHandler:this.responseHandler})}}]),n}(a.Component),Jr=(n(13),function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).trialCompleteRenderer=function(e,t){for(var n=0,a=0;a<t.length;a++)n+=t[a]==e[a]>0;return n>.7*e.length?r.a.createElement(m.a,{to:"/Continue"}):r.a.createElement(m.a,{to:"/OnceMore"})},a.dataHandler=function(e,t,n,r,i,o){C("practice",e,t,n,void 0,void 0,o,a.startTimestamp)},a.startTimestamp=(new Date).getTime(),a}return Object(s.a)(n,[{key:"render",value:function(){return r.a.createElement(Mr,{audioSource:Ue,shouldRecordRatings:!1,trialCompleteRenderer:this.trialCompleteRenderer,dataHandler:this.dataHandler})}}]),n}(a.Component)),Vr=(n(13),function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).trialCompleteRenderer=function(e,t){for(var n=0,a=0;a<t.length;a++)n+=t[a]==e[a]>0;return n>.7*e.length?r.a.createElement(m.a,{to:"/Continue_rating"}):r.a.createElement(m.a,{to:"/OnceMore_rating"})},a.dataHandler=function(e,t,n,r,i,o){C("practice_rating",e,t,n,r,i,o,a.startTimestamp)},a.startTimestamp=(new Date).getTime(),a}return Object(s.a)(n,[{key:"render",value:function(){return r.a.createElement(Mr,{audioSource:lt,shouldRecordRatings:!0,trialCompleteRenderer:this.trialCompleteRenderer,dataHandler:this.dataHandler})}}]),n}(a.Component)),Xr=(n(430),function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).keyFunction=function(e){81===e.keyCode&&a.setState((function(e,t){return{continue:!0}}))},a.state={continue:!1},a}return Object(s.a)(n,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.keyFunction,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.keyFunction,!1)}},{key:"render",value:function(){return!0===this.state.continue?r.a.createElement(m.a,{to:"/Trial_P"}):r.a.createElement("div",{className:"OnceMore"},r.a.createElement("input",{type:"hidden"}),r.a.createElement("header",{className:"OnceMore-header"},r.a.createElement("div",{className:"text-container"},r.a.createElement("p",{className:"OnceMore-text"},r.a.createElement("br",null),r.a.createElement("br",null)," Nice job, but you didn't reach the required accuracy level, so make sure you are pressing the right keys at the right time.",r.a.createElement("br",null),r.a.createElement("br",null)," You will now have one more practice session. Get ready! Remember,",r.a.createElement("br",null),r.a.createElement("br",null)," the final note of the melody might play while the white noise continues when there are diagonal red stripes on the screen.",r.a.createElement("br",null),r.a.createElement("br",null)," Press  ",r.a.createElement("font",{size:"+2"},"  ",r.a.createElement("b",null,' "Q"/YES ')," ")," if you ",r.a.createElement("b",null," DO "),"hear the tone.",r.a.createElement("br",null),r.a.createElement("br",null)," Press ",r.a.createElement("font",{size:"+2"}," ",r.a.createElement("b",null,' "E"/NO ')," ")," if you ",r.a.createElement("b",null," DO NOT ")," hear the tone.",r.a.createElement("br",null),r.a.createElement("br",null)," Please respond as ",r.a.createElement("b",null," QUICKLY ")," and as ",r.a.createElement("b",null," ACCURATELY ")," as you ",r.a.createElement("b",null," POSSIBLY CAN "),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),' PRESS "Q"/YES TO BEGIN A SHORT PRACTICE SESSION'))))}}]),n}(a.Component)),$r=(n(146),function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).keyFunction=function(e){81===e.keyCode&&a.setState((function(e,t){return{continue:!0}}))},a.state={continue:!1},a}return Object(s.a)(n,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.keyFunction,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.keyFunction,!1)}},{key:"render",value:function(){return!0===this.state.continue?r.a.createElement(m.a,{to:"/Trial_P_rating"}):r.a.createElement("div",{className:"OnceMore_rating"},r.a.createElement("input",{type:"hidden"}),r.a.createElement("header",{className:"OnceMore_rating-header"},r.a.createElement("div",{className:"text-container"},r.a.createElement("p",{className:"OnceMore_rating-text"},r.a.createElement("br",null),r.a.createElement("br",null)," Nice job, but you didn't reach the required accuracy level, so make sure you are pressing the right keys at the right time,",r.a.createElement("br",null),r.a.createElement("br",null)," and holding the button down to indicate accuracy ratings. You will now have one more practice session. Get ready!",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),' PRESS "Q"/YES WHEN READY TO CONTINUE.'))))}}]),n}(a.Component)),Zr=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).keyFunction=function(e){81===e.keyCode&&a.setState((function(e,t){return{continue:!0}}))},a.state={continue:!1},a}return Object(s.a)(n,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.keyFunction,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.keyFunction,!1)}},{key:"render",value:function(){return!0===this.state.continue?r.a.createElement(m.a,{to:"/Trial_P_surprisal"}):r.a.createElement("div",{className:"OnceMore_rating"},r.a.createElement("input",{type:"hidden"}),r.a.createElement("header",{className:"OnceMore_rating-header"},r.a.createElement("div",{className:"text-container"},r.a.createElement("p",{className:"OnceMore_rating-text"},r.a.createElement("br",null),r.a.createElement("br",null)," Nice job, but you didn't reach the required accuracy level, so make sure you are pressing the right keys at the right time,",r.a.createElement("br",null),r.a.createElement("br",null)," and holding the button down to indicate accuracy ratings. You will now have one more practice session. Get ready!",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),' PRESS "Q"/YES WHEN READY TO CONTINUE.'))))}}]),n}(a.Component),ei=(n(13),function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).trialCompleteRenderer=function(e,t){for(var n=0,a=0;a<t.length;a++)n+=t[a]==e[a]>0;return n>.7*e.length?r.a.createElement(m.a,{to:"/Continue_surprisal"}):r.a.createElement(m.a,{to:"/OnceMore_surprisal"})},a.dataHandler=function(e,t,n,r,i,o,l,s){C("practice_surprisal",e,t,n,r,i,o,l,s,a.startTimestamp)},a.startTimestamp=(new Date).getTime(),a}return Object(s.a)(n,[{key:"render",value:function(){return r.a.createElement(Mr,{audioSource:Rt,shouldRecordRatings:!0,shouldRecordSurprisals:!0,trialCompleteRenderer:this.trialCompleteRenderer,dataHandler:this.dataHandler})}}]),n}(a.Component)),ti=n(13),ni=n(28),ai=Fr.slice(0,21),ri=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).trialCompleteRenderer=function(e,t){return ni.debug,r.a.createElement(m.a,{to:"/Break1"})},a.dataHandler=function(e,t,n,r,i,o,l,s){C(1,e,t,n,r,i,o,l,s,a.startTimestamp)},a.startTimestamp=(new Date).getTime(),a.state={decibels:ti.flatten(ti.slice(Qr(),0,3))},console.log(Qr()),console.log(a.state.decibels),a}return Object(s.a)(n,[{key:"render",value:function(){return ti.isEmpty(this.state.decibels)?r.a.createElement(m.a,{to:"/Error"}):r.a.createElement(Mr,{audioSource:ai,decibels:this.state.decibels,shouldRecordRatings:!0,shouldRecordSurprisals:!0,trialCompleteRenderer:this.trialCompleteRenderer,dataHandler:this.dataHandler})}}]),n}(a.Component),ii=n(13),oi=Fr.slice(21,42),li=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).trialCompleteRenderer=function(e,t){return r.a.createElement(m.a,{to:"/Break2"})},a.dataHandler=function(e,t,n,r,i,o,l,s){C(2,e,t,n,r,i,o,l,s,a.startTimestamp)},a.startTimestamp=(new Date).getTime(),a.state={decibels:ii.flatten(ii.slice(Qr(),3,6))},a}return Object(s.a)(n,[{key:"render",value:function(){return ii.isEmpty(this.state.decibels)?r.a.createElement(m.a,{to:"/Error"}):r.a.createElement(Mr,{audioSource:oi,decibels:this.state.decibels,shouldRecordRatings:!0,shouldRecordSurprisals:!0,trialCompleteRenderer:this.trialCompleteRenderer,dataHandler:this.dataHandler})}}]),n}(a.Component),si=n(13),ci=Fr.slice(42,63),ui=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).trialCompleteRenderer=function(e,t){return r.a.createElement(m.a,{to:"/Break3"})},a.dataHandler=function(e,t,n,r,i,o,l,s){C(3,e,t,n,r,i,o,l,s,a.startTimestamp)},a.startTimestamp=(new Date).getTime(),a.state={decibels:si.flatten(si.slice(Qr(),6,9))},a}return Object(s.a)(n,[{key:"render",value:function(){return si.isEmpty(this.state.decibels)?r.a.createElement(m.a,{to:"/Error"}):r.a.createElement(Mr,{audioSource:ci,decibels:this.state.decibels,shouldRecordRatings:!0,shouldRecordSurprisals:!0,trialCompleteRenderer:this.trialCompleteRenderer,dataHandler:this.dataHandler})}}]),n}(a.Component),mi=n(13),di=Fr.slice(63,84),pi=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).trialCompleteRenderer=function(e,t){return r.a.createElement(m.a,{to:"/ThankYou"})},a.dataHandler=function(e,t,n,r,i,o,l,s){C(4,e,t,n,r,i,o,l,s,a.startTimestamp)},a.startTimestamp=(new Date).getTime(),a.state={decibels:mi.flatten(mi.slice(Qr(),9,12))},a}return Object(s.a)(n,[{key:"render",value:function(){return mi.isEmpty(this.state.decibels)?r.a.createElement(m.a,{to:"/Error"}):r.a.createElement(Mr,{audioSource:di,decibels:this.state.decibels,shouldRecordRatings:!0,shouldRecordSurprisals:!0,trialCompleteRenderer:this.trialCompleteRenderer,dataHandler:this.dataHandler})}}]),n}(a.Component),fi=(n(81),function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).keyFunction=function(e){81===e.keyCode&&a.setState((function(e,t){return{continue:!0}}))},a.state={continue:!1},a}return Object(s.a)(n,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.keyFunction,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.keyFunction,!1)}},{key:"render",value:function(){return!0===this.state.continue?r.a.createElement(m.a,{to:"/Trial_TT_2"}):r.a.createElement("div",{className:"Break"},r.a.createElement("input",{type:"hidden"}),r.a.createElement("header",{className:"Break-header"},r.a.createElement("div",{className:"text-container"},r.a.createElement("p",{className:"Break-text"},"Great!",r.a.createElement("br",null),r.a.createElement("br",null)," Take a quick break. Three more to go!",r.a.createElement("br",null),r.a.createElement("br",null)," Remember: Continue to listen carefully and do the best you can.",r.a.createElement("br",null),r.a.createElement("br",null)," The task will continue to be difficult, but it is okay to guess and it is okay to be uncertain.",r.a.createElement("br",null),r.a.createElement("br",null)," Press ",r.a.createElement("b",null,' "Q"/YES ')," if you ",r.a.createElement("b",null," DO ")," hear the final note.",r.a.createElement("br",null),r.a.createElement("br",null)," Press ",r.a.createElement("b",null,' "E"/NO ')," if you ",r.a.createElement("b",null," DO NOT ")," hear the final note.",r.a.createElement("br",null),r.a.createElement("br",null)," If you hold the key down for a long time, the final note was a ",r.a.createElement("b",null," GOOD FIT "),".",r.a.createElement("br",null),r.a.createElement("br",null)," If you hold the key down for a short time, the final note was a ",r.a.createElement("b",null," BAD FIT "),".",r.a.createElement("br",null),r.a.createElement("br",null)," Please respond as ",r.a.createElement("b",null," QUICKLY ")," and as ",r.a.createElement("b",null," ACCURATELY ")," as you ",r.a.createElement("b",null," POSSIBLY CAN "),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),' PRESS "Q"/YES TO CONTINUE WITH THE NEXT PART'))))}}]),n}(a.Component)),hi=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).keyFunction=function(e){81===e.keyCode&&a.setState((function(e,t){return{continue:!0}}))},a.state={continue:!1},a}return Object(s.a)(n,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.keyFunction,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.keyFunction,!1)}},{key:"render",value:function(){return!0===this.state.continue?r.a.createElement(m.a,{to:"/Trial_TT_3"}):r.a.createElement("div",{className:"Break"},r.a.createElement("input",{type:"hidden"}),r.a.createElement("header",{className:"Break-header"},r.a.createElement("div",{className:"text-container"},r.a.createElement("p",{className:"Break-text"},r.a.createElement("br",null),r.a.createElement("br",null)," Great!!! Take a quick break. Two more to go!",r.a.createElement("br",null),r.a.createElement("br",null)," Remember: Continue to listen carefully and do the best you can.",r.a.createElement("br",null),r.a.createElement("br",null)," The task will continue to be difficult, but it is okay to guess and it is okay to be uncertain.",r.a.createElement("br",null),r.a.createElement("br",null)," Press ",r.a.createElement("b",null,' "Q"/YES ')," if you ",r.a.createElement("b",null," DO ")," hear a tone.",r.a.createElement("br",null),r.a.createElement("br",null)," Press ",r.a.createElement("b",null,' "E"/NO ')," if you ",r.a.createElement("b",null," DO NOT ")," hear a tone.",r.a.createElement("br",null),r.a.createElement("br",null)," If you hold the key down for a long time, the final note was a ",r.a.createElement("b",null," GOOD FIT "),".",r.a.createElement("br",null),r.a.createElement("br",null)," If you hold the key down for a short time, the final note was a ",r.a.createElement("b",null," BAD FIT "),".",r.a.createElement("br",null),r.a.createElement("br",null)," Please respond as ",r.a.createElement("b",null," QUICKLY ")," and as ",r.a.createElement("b",null," ACCURATELY ")," as you ",r.a.createElement("b",null," POSSIBLY CAN "),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),' PRESS "Q"/YES TO CONTINUE WITH THE NEXT PART'))))}}]),n}(a.Component),bi=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).keyFunction=function(e){81===e.keyCode&&a.setState((function(e,t){return{continue:!0}}))},a.state={continue:!1},a}return Object(s.a)(n,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.keyFunction,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.keyFunction,!1)}},{key:"render",value:function(){return!0===this.state.continue?r.a.createElement(m.a,{to:"/Trial_TT_4"}):r.a.createElement("div",{className:"Break"},r.a.createElement("input",{type:"hidden"}),r.a.createElement("header",{className:"Break-header"},r.a.createElement("div",{className:"text-container"},r.a.createElement("p",{className:"Break-text"},"Great!",r.a.createElement("br",null),r.a.createElement("br",null)," Take a quick break. One more to go!",r.a.createElement("br",null),r.a.createElement("br",null)," Remember: Continue to listen carefully and do the best you can.",r.a.createElement("br",null),r.a.createElement("br",null)," The task will continue to be difficult, but it is okay to guess and it is okay to be uncertain.",r.a.createElement("br",null),r.a.createElement("br",null)," Press ",r.a.createElement("b",null,' "Q"/YES ')," if you ",r.a.createElement("b",null," DO ")," hear a tone.",r.a.createElement("br",null),r.a.createElement("br",null)," Press ",r.a.createElement("b",null,' "E"/NO ')," if you ",r.a.createElement("b",null," DO NOT ")," hear a tone.",r.a.createElement("br",null),r.a.createElement("br",null)," If you hold the key down for a long time, the final note was a ",r.a.createElement("b",null," GOOD FIT "),".",r.a.createElement("br",null),r.a.createElement("br",null)," If you hold the key down for a short time, the final note was a ",r.a.createElement("b",null," BAD FIT "),".",r.a.createElement("br",null),r.a.createElement("br",null)," Please respond as ",r.a.createElement("b",null," QUICKLY ")," and as ",r.a.createElement("b",null," ACCURATELY ")," as you ",r.a.createElement("b",null," POSSIBLY CAN "),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),' PRESS "Q"/YES TO CONTINUE WITH THE NEXT PART'))))}}]),n}(a.Component),Ei=(n(431),n(85)),vi=n(28),yi=n(13),wi=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).keyFunction=function(e){81===e.keyCode&&a.setState((function(e,t){return{continue:!0}}))},a.state={continue:!1,invalid:!1,sentData:!1,link:void 0},a}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=this;document.addEventListener("keydown",this.keyFunction,!1);var t=R(),n=function(){var e=g.clone(D.store);return e.taskName=w.taskName,e.taskVersion=w.taskVersion,e.visualStim=E,e.auditoryStim=v,JSON.stringify(e)}();if(b?this.setState({link:"link"}):yi.isUndefined(N())?Object(Ei.a)(t).then((function(t){return e.setState({link:t})})):this.setState({link:N()}),!I())return vi.debug&&(console.log("encrypted metadata: "+t),console.log("store export: "+n),console.log("localStorage: "+JSON.stringify(localStorage))),j()?b?(_(!0),this.setState({sentData:!0}),L(),void P()):void Object(Ei.b)(t,n).then((function(){_(!0),e.setState({sentData:!0}),L(),P()})):(D.clear(),void this.setState({invalid:!0}));this.setState({sentData:!0})}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.keyFunction,!1)}},{key:"render",value:function(){if(this.state.invalid)return r.a.createElement(m.a,{to:"/Error"});if(this.state.continue)window.location.assign(this.state.link);else if(!this.state.sentData||yi.isUndefined(this.state.link))return r.a.createElement("div",{className:"ThankYou"},r.a.createElement("p",{className:"ThankYou-text"},"Loading..."));return r.a.createElement("div",{className:"ThankYou"},r.a.createElement("input",{type:"hidden"}),r.a.createElement("header",{className:"ThankYou-header"},r.a.createElement("div",{className:"text-container"},r.a.createElement("p",{className:"ThankYou-text"},r.a.createElement("span",{className:"bigger"}," The experiment is over. Thank you for taking part in the study! "),r.a.createElement("br",null),r.a.createElement("br",null)," Please ",r.a.createElement("a",{href:this.state.link},"click here")," or press 'Q' to return to the survey.")),r.a.createElement("a",{href:"https://medicine.yale.edu/psychiatry/care/cmhc/",title:"Learn more about the Connecticut Mental Health Center",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("img",{src:f.a,className:"Site-link",alt:"logo"}))))}}]),n}(a.Component),gi=(n(442),function(){return r.a.createElement("div",{className:"Error"},r.a.createElement("h3",null,"Something went wrong. Please try again."))}),ki=function(){return r.a.createElement(m.d,null,r.a.createElement(m.b,{path:"/",exact:!0,component:A}),r.a.createElement(m.b,{path:"/Welcome",exact:!0,component:A}),r.a.createElement(m.b,{path:"/Instructions",exact:!0,component:U}),r.a.createElement(m.b,{path:"/Trial_P",exact:!0,component:Jr}),r.a.createElement(m.b,{path:"/OnceMore",exact:!0,component:Xr}),r.a.createElement(m.b,{path:"/Continue",exact:!0,component:W}),r.a.createElement(m.b,{path:"/Trial_P_rating",exact:!0,component:Vr}),r.a.createElement(m.b,{path:"/OnceMore_rating",exact:!0,component:$r}),r.a.createElement(m.b,{path:"/Continue_rating",exact:!0,component:q}),r.a.createElement(m.b,{path:"/Trial_P_surprisal",exact:!0,component:ei}),r.a.createElement(m.b,{path:"/OnceMore_surprisal",exact:!0,component:Zr}),r.a.createElement(m.b,{path:"/Continue_surprisal",exact:!0,component:B}),r.a.createElement(m.b,{path:"/TrialQ",exact:!0,component:Gr}),r.a.createElement(m.b,{path:"/Complete",exact:!0,component:M}),r.a.createElement(m.b,{path:"/Trial_TT_1",exact:!0,component:ri}),r.a.createElement(m.b,{path:"/Break1",exact:!0,component:fi}),r.a.createElement(m.b,{path:"/Trial_TT_2",exact:!0,component:li}),r.a.createElement(m.b,{path:"/Break2",exact:!0,component:hi}),r.a.createElement(m.b,{path:"/Trial_TT_3",exact:!0,component:ui}),r.a.createElement(m.b,{path:"/Break3",exact:!0,component:bi}),r.a.createElement(m.b,{path:"/Trial_TT_4",exact:!0,component:pi}),r.a.createElement(m.b,{path:"/ThankYou",exact:!0,component:wi}),r.a.createElement(m.b,{path:"/Error",exact:!0,component:gi}),r.a.createElement(m.b,{component:H}))},Si=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(ki,null))}}]),n}(a.Component),Ti=n(8),xi=n(15),Oi=Object(xi.a)();Object({NODE_ENV:"production",PUBLIC_URL:"/ACH_APP_FU_6M",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).NODE_CONFIG_DIR="../config",o.a.render(r.a.createElement(Ti.a,{history:Oi,basename:"/ACH_APP_FU_6M"},r.a.createElement(Si,null)),document.getElementById("root"))}]),[[278,1,2]]]);
//# sourceMappingURL=main.f4137d37.chunk.js.map